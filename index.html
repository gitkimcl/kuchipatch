<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title> 8월의 싱그러운 2반 알리미미</title>
<link href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css" rel="stylesheet">
<style>
  :root {
    --main-color: #ff3399;
  }
  body {
    background: linear-gradient(180deg, #000, #111);
    color: #fff;
    font-family: Pretendard, sans-serif;
    margin: 0;
    padding: 2rem;
  }
  /* 헤더 */
  .header {
    display: flex;
    align-items: flex-end;
    justify-content: space-between;
    margin-bottom: 1rem;
  }
  .header-left h1 {
    font-size: 2rem;
    margin: 0;
    color: var(--main-color);
    text-shadow: 0 0 15px var(--main-color);
    text-align: left;
  }
  .header-left .info {
    font-size: 1rem;
    color: rgba(255,255,255,0.8);
    margin-top: 0.2rem;
  }
  /* 카드 레이아웃 */
  .grid {
    display: grid;
    gap: 20px;
    max-width: 1200px;
    margin: auto;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  }
  .card {
    background: rgba(20, 20, 20, 0.9);
    border-radius: 12px;
    padding: 1.5rem;
    box-shadow: 0 0 15px var(--main-color);
    text-align: left;
  }
  .card h2 {
    color: var(--main-color);
    margin-bottom: 0.5rem;
    text-shadow: 0 0 10px var(--main-color);
  }
  /* 시간표 */
  table {
    width: 100%;
    border-collapse: collapse;
    table-layout: fixed;
    color: #fff;
  }
  th, td {
    border: 1px solid var(--main-color);
    text-shadow: 0 0 5px var(--main-color);
    padding: 8px;
    white-space: nowrap;
  }
  th {
    background: rgba(255, 51, 153, 0.2);
    height: 50px;
  }
  tbody td {
    height: 60px;
    text-align: center;
    vertical-align: middle;
  }
  ul {
    margin: 0;
    padding: 0;
    list-style: none;
  }
  li {
    margin-bottom: 0.4rem;
  }
</style>
</head>
<body>

<div class="header">
  <div class="header-left">
    <h1>3학년 2반 알리미</h1>
    <div class="info" id="basic-info">정보 불러오는 중...</div>
  </div>
</div>

<div class="grid">
  <!-- 주간 시간표 -->
  <div class="card">
    <h2>주간 시간표</h2>
    <table>
      <thead>
        <tr>
          <th>교시</th>
          <th>월</th><th>화</th><th>수</th><th>목</th><th>금</th>
        </tr>
      </thead>
      <tbody>
        <tr><td>1</td><td>물리</td><td>정보</td><td>정보</td><td>과제연구</td><td>생명과학</td></tr>
        <tr><td>2</td><td>화학</td><td>체육</td><td>대수</td><td>과제연구</td><td>생명과학</td></tr>
        <tr><td>3</td><td>대수</td><td>미적분</td><td>미적분</td><td>영어</td><td>지구과학</td></tr>
        <tr><td>4</td><td>체육</td><td>국어</td><td>과제연구</td><td>정보</td><td>지구과학</td></tr>
        <tr><td>5</td><td>영어</td><td>물리</td><td>창체</td><td>화학</td><td>물리</td></tr>
        <tr><td>6</td><td>지구과학</td><td>영어</td><td>창체</td><td>화학</td><td>생명과학</td></tr>
        <tr><td>7</td><td>미적분</td><td>대수</td><td>창체</td><td>국어</td><td>국어</td></tr>
      </tbody>
    </table>
  </div>

  <!-- 오늘의 급식 -->
  <div class="card">
    <h2>오늘의 급식</h2>
    <div id="lunch-info">불러오는 중...</div>
  </div>

  <!-- 공지사항 -->
  <div class="card">
    <h2>공지사항</h2>
    <ul id="notice-list"></ul>
  </div>
</div>

<script>
// 기본 정보
function setBasicInfo() {
  const today = new Date();
  const dateOptions = { year: 'numeric', month: 'long', day: 'numeric', weekday: 'long' };
  const timeOptions = { hour: '2-digit', minute: '2-digit' };
  const dateStr = today.toLocaleDateString('ko-KR', dateOptions);
  const timeStr = today.toLocaleTimeString('ko-KR', timeOptions);
  const className = "3학년 2반";
  const teacher = "담임: 홍길동";
  document.getElementById('basic-info').innerText = `${dateStr} | ${timeStr} | ${className} | ${teacher}`;
}
setBasicInfo();

// 급식 API
async function loadLunch() {
  const today = new Date();
  const yyyy = today.getFullYear();
  const mm = String(today.getMonth() + 1).padStart(2, '0');
  const dd = String(today.getDate()).padStart(2, '0');
  const date = `${yyyy}${mm}${dd}`;
  const KEY = "YOUR_API_KEY"; // 네이스 API 키
  const ATPT = "C10"; // 충남교육청
  const SCHUL = "8140293"; // 충남과학고
  const url = `https://open.neis.go.kr/hub/mealServiceDietInfo?KEY=${KEY}&Type=json&ATPT_OFCDC_SC_CODE=${ATPT}&SD_SCHUL_CODE=${SCHUL}&MLSV_YMD=${date}`;

  try {
    const res = await fetch(url);
    const data = await res.json();
    if (data.mealServiceDietInfo) {
      const menu = data.mealServiceDietInfo[1].row[0].DDISH_NM
        .replace(/<br\s*\/?>/gi, ', ')
        .replace(/\(\d+\.?\d*g\)/g, '');
      document.getElementById('lunch-info').innerText = menu;
    } else {
      document.getElementById('lunch-info').innerText = "급식 정보
